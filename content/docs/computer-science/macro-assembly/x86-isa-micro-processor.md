---
title: x86 架构微处理器
weight: 100
math: false
---

- **微处理器基本结构**
    - **重要结构**
        - 总线接口单元（BIU）：包括数据、控制、指令总线，连接各个组件，用于传递信息。
        - 中央处理单元（CPU）：包括指令读取、指令译码、执行单元等。
        - 内存管理单元（MMU）：包括分段和分页组件，负责内存管理和保护、地址转换等。
    - **工作模式**
        - 实模式：CPU 复位后的默认模式，字长只到 16 位，任何代码都具有完全权限。
        - 保护模式：从实模式提示后的模式，字长到达 32 位，支持高级功能，划分特权级。
        - 虚拟 8086 模式：保护模式下模拟实模式，具有一定兼容性，但权限受限，特权指令需要模拟。
- **寄存器**
    - **通用寄存器**
        - `EAX`：累加器，主要用于算术运算和数据传输。
        - `EBX`：保存数据，常用于基址寄存器，即作为一段连续内存区域的起始地址。
        - `ECX`: 保存数据，常用于循环计数器。
        - `EDX`：保存数据，在使用乘除法指令时保存数据的专用区域。
        - `EBP`：保存栈帧基址，启用 FPO 后，无特殊职责，可以用于其他用途。
        - `EDI`：常用于目的操作数索引。
        - `ESI`：常用于源操作数索引。
        - `ESP`：固定用于保存栈顶地址。
    - **段寄存器**
        - `CS`：代码段寄存器。
        - `DS`：数据段寄存器。
        - `SS`：堆栈段寄存器。
        - `ES`：附加数据/扩展段寄存器。
        - `FS`、`GS`：无明显的命名含义，常用于线程局部存储。
        - 所有的段寄存器都是 16 位。
        - 实模式下，段寄存器保存段基址的高 16 位。
        - 保护模式下，段寄存器保存段选择符，间接表示段基址。
    - **标志寄存器**
        - `CF`、`ZF`、`SF`、`OF` 参考[计算机系统部分的介绍](/docs/computer-science/computer-system/machine-level-programming#vkqifa)。
        - `PF`：即 Parity Flag，若运行结果的最低 8 位为 `res8`，则 `PF == popcount(res8) % 2`。
        - `AF`：即 Auxiliary Carry Flag，若运行结果的最低 4 位向次低 4 位进位或借位，则为 1。

